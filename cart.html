<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>3Leaves Farm</title>

    <link rel="stylesheet" href="style.css" media="screen" title="no title" charset="utf-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
    
    <script type="text/javascript">
	function carigambar(g)
{
	 var id = g;
	 var gambar;
	 if (id == 1)
	 {
		 gambar = "<img src='assets/images/gallery/caisimorganik.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 2)
	 {
		 gambar = "<img src='assets/images/gallery/LollorosaLettucegradeA.jpeg' alt='' width='90px' height='60px'>";
	 	 return gambar;
	 }
	 else if (id == 3)
	 {
		 gambar = "<img src='assets/images/gallery/pakchoy.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 4)
	 {
		 gambar = "<img src='assets/images/gallery/bayamhijauorganik.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 5)
	 {
		 gambar = "<img src='assets/images/gallery/bayammerahorganik.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 6)
	 {
		 gambar = "<img src='assets/images/gallery/pakchoy.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
   	 else if (id == 7)
	 {
		 gambar = "<img src='assets/images/gallery/kangkungorganik.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 8)
	 {
		 gambar = "<img src='assets/images/gallery/SeladaKeritingOrganik.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 9)
	 {
		 gambar = "<img src='assets/images/gallery/kailan organik.jpeg' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 10)
	 {
		 gambar = "<img src='assets/images/gallery/kale.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 11)
	 {
		 gambar = "<img src='assets/images/gallery/cabe merah keriting organik.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 12)
	 {
		 gambar = "<img src='assets/images/gallery/lollobiondagradeB.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 13)
	 {
		 gambar = "<img src='assets/images/gallery/CabeRawitMerah.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 14)
	 {
		 gambar = "<img src='assets/images/gallery/LollorosaLettucegradeA.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 15)
	 {
		 gambar = "<img src='assets/images/gallery/LollorosaLettuceGradeB.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 16)
	 {
		 gambar = "<img src='assets/images/gallery/RomaineLettuce.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 17)
	 {
		 gambar = "<img src='assets/images/gallery/butterheadlettuce.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 18)
	 {
		 gambar = "<img src='assets/images/gallery/Endive.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 19)
	 {
		 gambar = "<img src='assets/images/gallery/RedOakleafLettuce.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 20)
	 {
		 gambar = "<img src='assets/images/gallery/GreenOakleafLettuce.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 21)
	 {
		 gambar = "<img src='assets/images/products/image-5.png' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 22)
	 {
		 gambar = "<img src='assets/images/gallery/kale.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 23)
	 {
		 gambar = "<img src='assets/images/products/image-1.png' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 24)
	 {
		 gambar = "<img src='assets/images/gallery/butterheadlettuce.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 25)
	 {
		 gambar = "<img src='assets/images/gallery/Salanova butterhead lettuce2.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 26)
	 {
		 gambar = "<img src='assets/images/gallery/SalanovaCrispyGreenLettuce.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 27)
	 {
		 gambar = "<img src='assets/images/gallery/FreshBasil.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 28)
	 {
		 gambar = "<img src='assets/images/gallery/cabe merah keriting.jpeg' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 29)
	 {
		 gambar = "<img src='assets/images/products/image-1.png' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
	 else if (id == 30)
	 {
		 gambar = "<img src='assets/images/products/image-5.png' alt='' width='90px' height='60px'>";
		 return gambar;
	 }
}
function grandtotal1()
{
	var a = $.cookie("j");
	var bgt = 0;
	for (b=0;b<a;b++)
  	{
		if ($.cookie("nama"+b))
	 	{
		 	var bqty = $.cookie("qty"+b);
		 	var bharga = $.cookie("harga"+b);
		 	var btotal = bqty*bharga;
		 	
			bgt += btotal;
	 	}
  	}
	return bgt;
}
	</script>
    <meta name="robots" content="noindex,follow" />
  </head>
  <body>
    <div class="shopping-cart">
      <!-- Title -->
      <div class="title">
        <i class="" style="font-size:36px;color:red; float: right; line-height: 18px"></i>
        Shopping Bag
      </div>
      

      <!-- Product #1 -->
<script type="text/javascript">

  var i = $.cookie("j");
  var no = 1;
  var gt = 0;
  for (k=0;k<i;k++)
  {
	 if ($.cookie("nama"+k))
	 {
		 var qty = $.cookie("qty"+k);
		 var harga = $.cookie("harga"+k);
		 var t = qty*harga;
		 gt += t;
		 document.write('<div class="item" id="item'+k+'">');
		 
		 document.write('<div class="buttons">');
		 document.write('<span class="delete-btn"></span>');
		 document.write('<input type="hidden" name="tes" id="deleteitem" value="'+k+'">');
		 document.write('</div>');
		 
		 document.write('<div class="image" id="image">');
		 document.write(carigambar($.cookie("gambar"+k)));
		 document.write('</div>');
		 
		 document.write('<div class="description">');
		 document.write('<span>'+$.cookie("nama"+k)+'</span>');
		 document.write('<span>(Rp '+harga+')</span>');
		 document.write('<span>'+$.cookie("catatan"+k)+'</span>');
		 document.write('</div>');
		 
		 document.write('<div class="quantity">');
		 document.write('<button class="plus-btn" type="button" name="button">');
		 document.write('<img src="plus.svg" alt="" />');
		 document.write('</button>');
		 document.write('<input readonly id="qty" type="text" name="name" value="'+$.cookie("qty"+k)+'">');
		 document.write('<input type="hidden" name="tes" id="kode" value="'+k+'">');
		 document.write('<button class="minus-btn" type="button" name="button">');
		 document.write('<img src="minus.svg" alt="" />');
		 document.write('</button>');
		 document.write('</div>');
		 
		 document.write('<div class="total-price" id="totalharga'+k+'">Rp '+t+'</div>');
		 document.write('</div>');
		 
/*		 document.write("<td>"+no+"</td>");
		 document.write("<td>"+no+"</td>");
		 document.write("<td>"+$.cookie("nama"+k)+"</td>");
		 document.write("<td>"+$.cookie("qty"+k)+"</td>");
		 document.write("<td>"+$.cookie("harga"+k)+"</td>");
		 var qty = $.cookie("qty"+k);
		 var harga = $.cookie("harga"+k);
		 var t = qty*harga;
		 gt += t;
		 document.write("<td>"+t+"</td>");
		 document.write("</tr>");
		 no++;*/
	 }
  }
  /*document.write("<tr><td  colspan='5' align='center'>Grand Total</td><td>"+gt+"</td</tr>");*/
</script>

      <!-- Product #2 -->
<!--      <div class="item">
        <div class="buttons">
          <span class="delete-btn"></span>
          <span class="like-btn"></span>
        </div>

        <div class="image">
          <img src="item-2.png" alt=""/>
        </div>

        <div class="description">
          <span>Maison Margiela</span>
          <span>Future Sneakers</span>
          <span>White</span>
        </div>

        <div class="quantity">
          <button class="plus-btn" type="button" name="button">
            <img src="plus.svg" alt="" />
          </button>
          <input type="text" name="name" value="1">
          <button class="minus-btn" type="button" name="button">
            <img src="minus.svg" alt="" />
          </button>
        </div>

        <div class="total-price">$870</div>
      </div>-->

      <!-- Product #3 -->
      <!--<div class="item">
        <div class="buttons">
          <span class="delete-btn"></span>
          <span class="like-btn"></span>
        </div>

        <div class="image">
          <img src="item-3.png" alt="" />
        </div>

        <div class="description">
          <span>Our Legacy</span>
          <span>Brushed Scarf</span>
          <span>Brown</span>
        </div>

        <div class="quantity">
          <button class="plus-btn" type="button" name="button">
            <img src="plus.svg" alt="" />
          </button>
          <input type="text" name="name" value="1">
          <button class="minus-btn" type="button" name="button">
            <img src="minus.svg" alt="" />
          </button>
        </div>

        <div class="total-price">$349</div>
      </div>-->

      <!-- footer -->
      <div>
        <a href="#" onClick="checkout()" class="btn btn-maincolor" style="width:120px; float: right">Checkout <div id="grandtotal1"><script>document.write(grandtotal1());</script></div></a>
        <!-- <button style="float:right; line-height: 20px; margin: 20px; color: green">Checkout</button> -->
      </div>
    </div>

    <script type="text/javascript">
      $('.minus-btn').on('click', function(e) {
    		e.preventDefault();
    		var $this = $(this);
    		var $input = $this.closest('div').find('#qty');
			var $tes = $this.closest('div').find('#kode');
    		var value = parseInt($input.val());
			var valuetes = parseInt($tes.val());

    		if (value > 1) {
    			value = value - 1;
    		} else {
    			value = 1;
    		}
			
        $input.val(value);
			$.cookie("qty"+valuetes, value);
			var qty = $.cookie("qty"+valuetes);
		 	var harga = $.cookie("harga"+valuetes);
			var t = qty*harga;
			
			$("#totalharga"+valuetes).html("Rp "+t);
			$("#grandtotal1").html(grandtotal1());

    	});

    	$('.plus-btn').on('click', function(e) {
    		e.preventDefault();
    		var $this = $(this);
    		var $input = $this.closest('div').find('#qty');
			var $tes = $this.closest('div').find('#kode');
    		var value = parseInt($input.val());
			var valuetes = parseInt($tes.val());

    		if (value < 100) {
      		value = value + 1;
    		} else {
    			value =100;
    		}

    		$input.val(value);
			$.cookie("qty"+valuetes, value);
			var qty = $.cookie("qty"+valuetes);
		 	var harga = $.cookie("harga"+valuetes);
			var t = qty*harga;
			$("#totalharga"+valuetes).html("Rp "+t);
			$("#grandtotal1").html(grandtotal1());
    	});

      $('.delete-btn').on('click', function(e) {
    		e.preventDefault();
    		var $this = $(this);
    		var $input = $this.closest('div').find('#deleteitem');
    		var value = parseInt($input.val());
			$("#item"+value).hide(1000);
			$.removeCookie("nama"+value);
			$("#grandtotal1").html(grandtotal1());
	});
	function checkout()
	{
		var check = $.cookie("j");
		var checkgt = 0;
		var out1;
		var out2;
		for (q=0;q<check;q++)
  		{
			if ($.cookie("nama"+q))
	 		{
		 		var namabarang = $.cookie("nama"+q);
				var checkqty = $.cookie("qty"+q);
		 		var checkharga = $.cookie("harga"+q);
		 		var checktotal = checkqty*checkharga;
				checkgt += checktotal;
				out1 = '<tr>'
				+'<td>'
				+'<input type="text" name="OrderName'+q+'" class="form-control" value="'+namabarang+'" readonly required>'
				+'</td>'
				+'<td>'
				+'<input type="text" id="qty" name="Kilogram'+q+'" class="form-control" value="'+checkqty+'" size="5" readonly required >'
				+'</td>'
				+'<td>'
				+'<input type="text" id="qty" name="harga'+q+'" class="form-control" value="'+checktotal+'" readonly required >'
				+'</td>'
				+'</tr>';
				out2 = out2+out1;
	 		}
  		}
		foot = '<tr>'
				+'<td colspan="2" align="center">'
				+'Total'
				+'</td>'
				+'<td>'
				+'<input type="text" id="qty" min="1" name="grandtotal" class="form-control" value="'+checkgt+'" size="5" readonly required >'
				+'</td>'
				+'</tr>';
		$("#formcheckout tbody").html(out2);
		$("#formcheckout tfoot").html(foot);
		$("#myModal").modal('show');
	}
    </script>
            <div id="myModal" class="modal fade">
          <div class="modal-dialog">
              <div class="modal-content">
                  <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                      <h4 class="modal-title">Your Order List</h4>
                  </div>
                  <div class="modal-body">
                    <center>
                      <h2><div id="judul"></div></h2>
                      <div id="gambar"></div>
                      <h3><div id="harga"></div></h3>
                    </center>
                      <br>
                      <form method="POST" action="https://formspree.io/cristinashuw@gmail.com">
                        <h5><b>Fill in the form below to complete your order.</b></h5>
                          <input type="email" name="Email" class="form-control" placeholder="Your email" required> <br>
                          <input type="number" name="Phone Number" class="form-control" placeholder="Your phone number" required><br>
                          <!-- <input type="text" name="Order Name" class="form-control" readonly id="judul2" value="" required> -->
                          <!-- <input type="hidden" name="kode" id="harga2" class="form-control" value=""><br> -->
                          <!-- <input type="hidden" name="kode" id="gambar2" class="form-control" value=""><br> -->
                          <textarea name="Special request?" class="form-control" id="catatan" placeholder="Any special request?"></textarea><br>
                          <!-- <input type="number" name="quantity" id="qty" min="1" max="5" name="Kilogram" class="form-control" placeholder="How many kilogram? " required > -->
                          <!-- <small>*The minimum order is 1 kilogram.</small> -->

                          <table border="1" id="formcheckout">
                            <thead>
                            <tr>
                              <th>Order Name</th>
                              <th>Quantity (kg)</th> 
                              <th>Price (Rp)</th>
                            </tr>
                            </thead>
                           <tbody>
                           </tbody>
                           <tfoot>
                           </tfoot>
<!--                            <tr>
                              <td><input type="text" name="Order Name" class="form-control" id="judul2" value="" placeholder="Enter Order Name" required></td>
                              <td><input type="number" id="qty" min="1" max="5" name="Kilogram" class="form-control" placeholder="How many kilogram? " required ></td>
                              <td>&nbsp;</td>
                            </tr>
                            <tr>
                              <td><input type="text" name="Order Name" class="form-control" id="judul2" value="" placeholder="Enter Order Name" required></td>
                              <td><input type="number" id="qty" min="1" max="5" name="Kilogram" class="form-control" placeholder="How many kilogram? " required ></td>
                              <td>&nbsp;</td>
                            </tr>
                            <tr>
                              <td><input type="text" name="Order Name" class="form-control" id="judul2" value="" placeholder="Enter Order Name" required></td>
                              <td><input type="number" id="qty" min="1" max="5" name="Kilogram" class="form-control" placeholder="How many kilogram? " required ></td>
                              <td>&nbsp;</td>
                            </tr>-->
                          </table>

                          <br><br>
                          <!-- <center><button type="submit">OK</button></center> -->

                  </div>
                  <div class="modal-footer">
                    <input type="reset" value="Reset" class="nextbtn btn-primary">
                    <button type="submit" class="nextbtn btn-primary">OK</button></form>
                  </div>
              </div>
          </div>
        </div>
  </body>
</html>
